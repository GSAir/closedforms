// ntdrivers-simplified/diskperf_simpl1_true-unreach-call_true-valid-memsafety_true-termination.cil.c
t_void __VERIFIER_error
t_char __VERIFIER_nondet_char
t_int __VERIFIER_nondet_int
t_unspecified __VERIFIER_nondet_long
t_void __VERIFIER_nondet_pointer
t_int DiskPerfDispatchPnp
t_int DiskPerfIrpCompletion
t_int DiskPerfStartDevice
t_int DiskPerfRemoveDevice
t_int DiskPerfSendToNextDriver
t_int DiskPerfDispatchPower
t_int DiskPerfForwardIrpSynchronous
t_int DiskPerfCreate
t_int DiskPerfIoCompletion
t_int DiskPerfDeviceControl
t_int DiskPerfShutdownFlush
t_int DiskPerfRegisterDevice
t_int IoBuildDeviceIoControlRequest
t_int IofCallDriver
t_int KeSetEvent
t_int KeWaitForSingleObject
t_int PoCallDriver
t_void IofCompleteRequest
t_int __VERIFIER_nondet_int
t_int s
t_int UNLOADED
t_int NP
t_int DC
t_int SKIP1
t_int SKIP2
t_int MPR1
t_int MPR3
t_int IPC
t_int pended
t_int compFptr
t_int compRegistered
t_int lowerDriverReturn
t_int setEventCalled
t_int customIrp
t_int myStatus
t_int routine
t_int pirp
t_int Executive
t_int KernelMode
t_void errorFn(/* TODO: param list ... */) {
  {
    ERROR:
    __VERIFIER_error((exp null))
    return (exp null)
  }
}
t_void _BLAST_init(/* TODO: param list ... */) {
  {
    (op_assign UNLOADED 0)
    (op_assign NP 1)
    (op_assign DC 2)
    (op_assign SKIP1 3)
    (op_assign SKIP2 4)
    (op_assign MPR1 5)
    (op_assign MPR3 6)
    (op_assign IPC 7)
    (op_assign s UNLOADED)
    (op_assign pended 0)
    (op_assign compFptr 0)
    (op_assign compRegistered 0)
    (op_assign lowerDriverReturn 0)
    (op_assign setEventCalled 0)
    (op_assign customIrp 0)
    return (exp null)
  }
}
t_void DiskPerfSyncFilterWithTarget(/* TODO: param list ... */) {
  t_int FilterDevice__Flags
  t_int TargetDevice__Characteristics
  t_int FilterDevice__Characteristics
  t_int propFlags
  {
    return (exp null)
  }
}
t_int DiskPerfDispatchPnp(/* TODO: param list ... */) {
  t_int Irp__Tail__Overlay__CurrentStackLocation = __VERIFIER_nondet_int((exp null))
  t_int irpSp__MinorFunction = __VERIFIER_nondet_int((exp null))
  t_int irpSp
  t_int status
  t_int tmp
  {
    (op_assign irpSp Irp__Tail__Overlay__CurrentStackLocation)
    if (op_equals irpSp__MinorFunction 0) {
      goto switch_0_0
    }
    else {
      if (op_equals irpSp__MinorFunction 2) {
        goto switch_0_2
      }
      else {
        goto switch_0_default
        if 0 {
          switch_0_0:
          {
            (op_assign status DiskPerfStartDevice((DeviceObject,Irp)))
          }
          goto switch_0_break
          switch_0_2:
          {
            (op_assign status DiskPerfRemoveDevice((DeviceObject,Irp)))
          }
          goto switch_0_break
          switch_0_default:
          {
            (op_assign tmp DiskPerfSendToNextDriver((DeviceObject,Irp)))
          }
          return (op_bracketedPrimary tmp)
        }
        else {
          switch_0_break:
          {}
        }
      }
    }
    return (op_bracketedPrimary status)
  }
}
t_int DiskPerfIrpCompletion(/* TODO: param list ... */) {
  t_int Event
  {
    {
      (op_assign Event Context)
      KeSetEvent((Event,0,0))
    }
    return (op_bracketedPrimary (op_minus 1073741802))
  }
}
t_int DiskPerfStartDevice(/* TODO: param list ... */) {
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__TargetDeviceObject = __VERIFIER_nondet_int((exp null))
  t_int Irp__IoStatus__Status
  t_int deviceExtension
  t_int status
  {
    {
      (op_assign deviceExtension DeviceObject__DeviceExtension)
      (op_assign status DiskPerfForwardIrpSynchronous((DeviceObject,Irp)))
      DiskPerfSyncFilterWithTarget((DeviceObject,deviceExtension__TargetDeviceObject))
      DiskPerfRegisterDevice(DeviceObject)
      (op_assign Irp__IoStatus__Status status)
      (op_assign myStatus status)
      IofCompleteRequest((Irp,0))
    }
    return (op_bracketedPrimary status)
  }
}
t_int DiskPerfRemoveDevice(/* TODO: param list ... */) {
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__WmilibContext = __VERIFIER_nondet_int((exp null))
  t_int Irp__IoStatus__Status
  t_int status
  t_int deviceExtension
  t_int wmilibContext
  {
    {
      (op_assign deviceExtension DeviceObject__DeviceExtension)
      (op_assign wmilibContext deviceExtension__WmilibContext)
      (op_assign status DiskPerfForwardIrpSynchronous((DeviceObject,Irp)))
      (op_assign Irp__IoStatus__Status status)
      (op_assign myStatus status)
      IofCompleteRequest((Irp,0))
    }
    return (op_bracketedPrimary status)
  }
}
t_int DiskPerfSendToNextDriver(/* TODO: param list ... */) {
  t_int Irp__CurrentLocation = __VERIFIER_nondet_int((exp null))
  t_int Irp__Tail__Overlay__CurrentStackLocation = __VERIFIER_nondet_int((exp null))
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__TargetDeviceObject = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension
  t_int tmp
  {
    if (op_equals s NP) {
      (op_assign s SKIP1)
    }
    else {
      {
        errorFn((exp null))
      }
    }
    {
      (op_postFixIncr Irp__CurrentLocation)
      (op_postFixIncr Irp__Tail__Overlay__CurrentStackLocation)
      (op_assign deviceExtension DeviceObject__DeviceExtension)
      (op_assign tmp IofCallDriver((deviceExtension__TargetDeviceObject,Irp)))
    }
    return (op_bracketedPrimary tmp)
  }
}
t_int DiskPerfDispatchPower(/* TODO: param list ... */) {
  t_int Irp__CurrentLocation = __VERIFIER_nondet_int((exp null))
  t_int Irp__Tail__Overlay__CurrentStackLocation = __VERIFIER_nondet_int((exp null))
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__TargetDeviceObject = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension
  t_int tmp
  {
    if (op_equals s NP) {
      (op_assign s SKIP1)
    }
    else {
      {
        errorFn((exp null))
      }
    }
    {
      (op_postFixIncr Irp__CurrentLocation)
      (op_postFixIncr Irp__Tail__Overlay__CurrentStackLocation)
      (op_assign deviceExtension DeviceObject__DeviceExtension)
      (op_assign tmp PoCallDriver((deviceExtension__TargetDeviceObject,Irp)))
    }
    return (op_bracketedPrimary tmp)
  }
}
t_int DiskPerfForwardIrpSynchronous(/* TODO: param list ... */) {
  t_int Irp__Tail__Overlay__CurrentStackLocation = __VERIFIER_nondet_int((exp null))
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__TargetDeviceObject = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension
  t_int event = __VERIFIER_nondet_int((exp null))
  t_int status
  t_int nextIrpSp__Control
  t_int irpSp
  t_int nextIrpSp
  t_int irpSp__Context
  t_int irpSp__Control
  t_int irpSp___0
  t_unspecified __cil_tmp15
  {
    (op_assign deviceExtension DeviceObject__DeviceExtension)
    (op_assign irpSp Irp__Tail__Overlay__CurrentStackLocation)
    (op_assign nextIrpSp (op_minus Irp__Tail__Overlay__CurrentStackLocation 1))
    (op_assign nextIrpSp__Control 0)
    if (op_notequals s NP) {
      {
        errorFn((exp null))
      }
    }
    else {
      if (op_notequals compRegistered 0) {
        {
          errorFn((exp null))
        }
      }
      else {
        (op_assign compRegistered 1)
        (op_assign routine 0)
      }
    }
    {
      (op_assign irpSp___0 (op_minus Irp__Tail__Overlay__CurrentStackLocation 1))
      (op_assign irpSp__Context event)
      (op_assign irpSp__Control 224)
      (op_assign status IofCallDriver((deviceExtension__TargetDeviceObject,Irp)))
    }
    {
      (op_assign __cil_tmp15 (t_unspecified)status)
      if (op_equals __cil_tmp15 259L) {
        {
          KeWaitForSingleObject((event,Executive,KernelMode,0,0))
          (op_assign status myStatus)
        }
      }
      else {}
    }
    return (op_bracketedPrimary status)
  }
}
t_int DiskPerfCreate(/* TODO: param list ... */) {
  {
    {
      (op_assign myStatus 0)
      IofCompleteRequest((Irp,0))
    }
    return (op_bracketedPrimary 0)
  }
}
t_int DiskPerfIoCompletion(/* TODO: param list ... */) {
  t_int irpStack__MajorFunction = __VERIFIER_nondet_int((exp null))
  t_int partitionCounters__BytesRead__QuadPart = __VERIFIER_nondet_int((exp null))
  t_int Irp__IoStatus__Information = __VERIFIER_nondet_int((exp null))
  t_int partitionCounters__ReadCount = __VERIFIER_nondet_int((exp null))
  t_int partitionCounters__ReadTime__QuadPart = __VERIFIER_nondet_int((exp null))
  t_int difference__QuadPart = __VERIFIER_nondet_int((exp null))
  t_int partitionCounters__BytesWritten__QuadPart = __VERIFIER_nondet_int((exp null))
  t_int partitionCounters__WriteCount = __VERIFIER_nondet_int((exp null))
  t_int partitionCounters__WriteTime__QuadPart = __VERIFIER_nondet_int((exp null))
  t_int Irp__Flags = __VERIFIER_nondet_int((exp null))
  t_int partitionCounters__SplitCount = __VERIFIER_nondet_int((exp null))
  t_int Irp__PendingReturned = __VERIFIER_nondet_int((exp null))
  t_int Irp__Tail__Overlay__CurrentStackLocation__Control
  t_int partitionCounters = __VERIFIER_nondet_int((exp null))
  t_int queueLen = __VERIFIER_nondet_int((exp null))
  {
    if (op_equals partitionCounters 0) {
      return (op_bracketedPrimary 0)
    }
    else {}
    if (op_lessThan queueLen 0) {
    }
    else {}
    if (op_equals queueLen 0) {
    }
    else {}
    if (op_equals irpStack__MajorFunction 3) {
      (op_plusAssign partitionCounters__BytesRead__QuadPart Irp__IoStatus__Information)
      (op_postFixIncr partitionCounters__ReadCount)
      (op_plusAssign partitionCounters__ReadTime__QuadPart difference__QuadPart)
    }
    else {
      (op_plusAssign partitionCounters__BytesWritten__QuadPart Irp__IoStatus__Information)
      (op_postFixIncr partitionCounters__WriteCount)
      (op_plusAssign partitionCounters__WriteTime__QuadPart difference__QuadPart)
    }
    if (op_notequals Irp__Flags 8) {
      (op_postFixIncr partitionCounters__SplitCount)
    }
    else {
    }
    if Irp__PendingReturned {
      if (op_equals pended 0) {
        (op_assign pended 1)
      }
      else {
        {
          errorFn((exp null))
        }
      }
    }
    else {}
    return (op_bracketedPrimary 0)
  }
}
t_int DiskPerfDeviceControl(/* TODO: param list ... */) {
  t_int Irp__CurrentLocation = __VERIFIER_nondet_int((exp null))
  t_int Irp__Tail__Overlay__CurrentStackLocation = __VERIFIER_nondet_int((exp null))
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__TargetDeviceObject = __VERIFIER_nondet_int((exp null))
  t_int currentIrpStack__Parameters__DeviceIoControl__IoControlCode = __VERIFIER_nondet_int((exp null))
  t_int currentIrpStack__Parameters__DeviceIoControl__OutputBufferLength = __VERIFIER_nondet_int((exp null))
  t_int sizeof__DISK_PERFORMANCE = __VERIFIER_nondet_int((exp null))
  t_int Irp__IoStatus__Information
  t_int deviceExtension__DiskCounters = __VERIFIER_nondet_int((exp null))
  t_int Irp__AssociatedIrp__SystemBuffer = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__Processors = __VERIFIER_nondet_int((exp null))
  t_int totalCounters__QueueDepth
  t_int deviceExtension__QueueDepth = __VERIFIER_nondet_int((exp null))
  t_int Irp__IoStatus__Status
  t_int deviceExtension
  t_int currentIrpStack
  t_int status
  t_int i
  t_int totalCounters
  t_int diskCounters
  t_int tmp
  t_int __cil_tmp24
  t_int __cil_tmp25
  t_int __cil_tmp26
  {
    (op_assign deviceExtension DeviceObject__DeviceExtension)
    (op_assign currentIrpStack Irp__Tail__Overlay__CurrentStackLocation)
    {
      (op_assign __cil_tmp24 32)
      (op_assign __cil_tmp25 458752)
      (op_assign __cil_tmp26 458784)
      if (op_equals currentIrpStack__Parameters__DeviceIoControl__IoControlCode __cil_tmp26) {
        if (op_lessThan currentIrpStack__Parameters__DeviceIoControl__OutputBufferLength sizeof__DISK_PERFORMANCE) {
          (op_assign status (op_minus 1073741789))
          (op_assign Irp__IoStatus__Information 0)
        }
        else {
          (op_assign diskCounters deviceExtension__DiskCounters)
          if (op_equals diskCounters 0) {
            {
              (op_assign Irp__IoStatus__Status (op_minus 1073741823))
              (op_assign myStatus (op_minus 1073741823))
              IofCompleteRequest((Irp,0))
            }
            return (op_bracketedPrimary (op_minus 1073741823))
          }
          else {}
          (op_assign totalCounters Irp__AssociatedIrp__SystemBuffer)
          (op_assign i 0)
          {
            while 1
            {
              while_0_continue:
              {}
              if (op_greaterEqual i deviceExtension__Processors) {
                goto while_1_break
              }
              else {}
              (op_postFixIncr i)
            }
            while_0_break:
            {}
          }
          while_1_break:
          (op_assign totalCounters__QueueDepth deviceExtension__QueueDepth)
          (op_assign status 0)
          (op_assign Irp__IoStatus__Information sizeof__DISK_PERFORMANCE)
        }
        {
          (op_assign Irp__IoStatus__Status status)
          (op_assign myStatus status)
          IofCompleteRequest((Irp,0))
        }
        return (op_bracketedPrimary status)
      }
      else {
        {
          (op_postFixIncr Irp__CurrentLocation)
          (op_postFixIncr Irp__Tail__Overlay__CurrentStackLocation)
          (op_assign tmp IofCallDriver((deviceExtension__TargetDeviceObject,Irp)))
        }
        return (op_bracketedPrimary tmp)
      }
    }
  }
}
t_int DiskPerfShutdownFlush(/* TODO: param list ... */) {
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int Irp__CurrentLocation = __VERIFIER_nondet_int((exp null))
  t_int Irp__Tail__Overlay__CurrentStackLocation = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__TargetDeviceObject = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension
  t_int tmp
  {
    {
      (op_assign deviceExtension DeviceObject__DeviceExtension)
      (op_postFixIncr Irp__CurrentLocation)
      (op_postFixIncr Irp__Tail__Overlay__CurrentStackLocation)
      (op_assign tmp IofCallDriver((deviceExtension__TargetDeviceObject,Irp)))
    }
    return (op_bracketedPrimary tmp)
  }
}
t_void DiskPerfUnload(/* TODO: param list ... */) {
  {
    return (exp null)
  }
}
t_int DiskPerfRegisterDevice(/* TODO: param list ... */) {
  t_int DeviceObject__DeviceExtension = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension__TargetDeviceObject = __VERIFIER_nondet_int((exp null))
  t_int sizeof__number = __VERIFIER_nondet_int((exp null))
  t_int ioStatus__Status = __VERIFIER_nondet_int((exp null))
  t_int sizeof__VOLUME_NUMBER = __VERIFIER_nondet_int((exp null))
  t_int volumeNumber__VolumeManagerName__0 = __VERIFIER_nondet_int((exp null))
  t_int status
  t_int ioStatus = __VERIFIER_nondet_int((exp null))
  t_int event = __VERIFIER_nondet_int((exp null))
  t_int deviceExtension
  t_int irp
  t_int number = __VERIFIER_nondet_int((exp null))
  t_int registrationFlag
  t_int sizeof__MOUNTDEV_NAME = __VERIFIER_nondet_int((exp null))
  t_int output__NameLength = __VERIFIER_nondet_int((exp null))
  t_int outputSize
  t_int output = __VERIFIER_nondet_int((exp null))
  t_int volumeNumber = __VERIFIER_nondet_int((exp null))
  t_int __cil_tmp20
  t_int __cil_tmp21
  t_int __cil_tmp22
  t_unspecified __cil_tmp23
  t_int __cil_tmp24
  t_int __cil_tmp25
  t_int __cil_tmp26
  t_unspecified __cil_tmp27
  t_unspecified __cil_tmp28
  t_int __cil_tmp29
  t_int __cil_tmp30
  t_int __cil_tmp31
  t_unspecified __cil_tmp32
  t_int __cil_tmp33
  t_int __cil_tmp34
  t_int __cil_tmp35
  t_int __cil_tmp36
  t_unspecified __cil_tmp37
  t_int __cil_tmp38
  t_int __cil_tmp39
  {
    {
      (op_assign registrationFlag 0)
      (op_assign deviceExtension DeviceObject__DeviceExtension)
      (op_assign __cil_tmp20 4224)
      (op_assign __cil_tmp21 2949120)
      (op_assign __cil_tmp22 2953344)
      (op_assign irp IoBuildDeviceIoControlRequest((__cil_tmp22,deviceExtension__TargetDeviceObject,0,0,number,sizeof__number,0,event,ioStatus)))
    }
    if (op_not irp) {
      return (op_bracketedPrimary (op_minus 1073741670))
    }
    else {}
    {
      (op_assign status IofCallDriver((deviceExtension__TargetDeviceObject,irp)))
    }
    {
      (op_assign __cil_tmp23 (t_unspecified)status)
      if (op_equals __cil_tmp23 259L) {
        {
          KeWaitForSingleObject((event,Executive,KernelMode,0,0))
          (op_assign status ioStatus__Status)
        }
      }
      else {}
    }
    if (op_lessThan status 0) {
      (op_assign outputSize sizeof__MOUNTDEV_NAME)
      if (op_not output) {
        return (op_bracketedPrimary (op_minus 1073741670))
      }
      else {}
      {
        (op_assign __cil_tmp24 8)
        (op_assign __cil_tmp25 5046272)
        (op_assign __cil_tmp26 5046280)
        (op_assign irp IoBuildDeviceIoControlRequest((__cil_tmp26,deviceExtension__TargetDeviceObject,0,0,output,outputSize,0,event,ioStatus)))
      }
      if (op_not irp) {
        return (op_bracketedPrimary (op_minus 1073741670))
      }
      else {}
      {
        (op_assign status IofCallDriver((deviceExtension__TargetDeviceObject,irp)))
      }
      {
        (op_assign __cil_tmp27 (t_unspecified)status)
        if (op_equals __cil_tmp27 259L) {
          {
            KeWaitForSingleObject((event,Executive,KernelMode,0,0))
            (op_assign status ioStatus__Status)
          }
        }
        else {}
      }
      {
        (op_assign __cil_tmp28 (t_unspecified)status)
        if (op_equals __cil_tmp28 (op_minus 2147483643)) {
          (op_assign outputSize (op_plus sizeof__MOUNTDEV_NAME output__NameLength))
          if (op_not output) {
            return (op_bracketedPrimary (op_minus 1073741670))
          }
          else {}
          {
            (op_assign __cil_tmp29 8)
            (op_assign __cil_tmp30 5046272)
            (op_assign __cil_tmp31 5046280)
            (op_assign irp IoBuildDeviceIoControlRequest((__cil_tmp31,deviceExtension__TargetDeviceObject,0,0,output,outputSize,0,event,ioStatus)))
          }
          if (op_not irp) {
            return (op_bracketedPrimary (op_minus 1073741670))
          }
          else {}
          {
            (op_assign status IofCallDriver((deviceExtension__TargetDeviceObject,irp)))
          }
          {
            (op_assign __cil_tmp32 (t_unspecified)status)
            if (op_equals __cil_tmp32 259L) {
              {
                KeWaitForSingleObject((event,Executive,KernelMode,0,0))
                (op_assign status ioStatus__Status)
              }
            }
            else {}
          }
        }
        else {}
      }
      {
        if (op_lessThan status 0) {
          return (op_bracketedPrimary status)
        }
        else {}
      }
      {
        (op_assign __cil_tmp34 28)
        (op_assign __cil_tmp35 5636096)
        (op_assign __cil_tmp36 5636124)
        (op_assign irp IoBuildDeviceIoControlRequest((__cil_tmp36,deviceExtension__TargetDeviceObject,0,0,volumeNumber,sizeof__VOLUME_NUMBER,0,event,ioStatus)))
      }
      if (op_not irp) {
        return (op_bracketedPrimary (op_minus 1073741670))
      }
      else {}
      {
        (op_assign status IofCallDriver((deviceExtension__TargetDeviceObject,irp)))
      }
      {
        (op_assign __cil_tmp37 (t_unspecified)status)
        if (op_equals __cil_tmp37 259L) {
          {
            KeWaitForSingleObject((event,Executive,KernelMode,0,0))
            (op_assign status ioStatus__Status)
          }
        }
        else {}
      }
      {
        if (op_lessThan status 0) {
          goto _L
        }
        else {
          if (op_equals volumeNumber__VolumeManagerName__0 0) {
            _L:
            if (op_greaterEqual status 0) {
            }
            else {}
          }
          else {}
        }
      }
    }
    else {}
    {
      if (op_lessThan status 0) {
      }
      else {}
    }
    return (op_bracketedPrimary status)
  }
}
t_void stub_driver_init(/* TODO: param list ... */) {
  {
    (op_assign s NP)
    (op_assign customIrp 0)
    (op_assign setEventCalled customIrp)
    (op_assign lowerDriverReturn setEventCalled)
    (op_assign compRegistered lowerDriverReturn)
    (op_assign compFptr compRegistered)
    (op_assign pended compFptr)
    return (exp null)
  }
}
t_int main(/* TODO: param list ... */) {
  t_int d = __VERIFIER_nondet_int((exp null))
  t_int status = __VERIFIER_nondet_int((exp null))
  t_int we_should_unload = __VERIFIER_nondet_int((exp null))
  t_int irp = __VERIFIER_nondet_int((exp null))
  t_int pirp__IoStatus__Status
  t_int irp_choice = __VERIFIER_nondet_int((exp null))
  t_int devobj = __VERIFIER_nondet_int((exp null))
  t_int __cil_tmp9
  (op_assign s 0)
  (op_assign UNLOADED 0)
  (op_assign NP 0)
  (op_assign DC 0)
  (op_assign SKIP1 0)
  (op_assign SKIP2 0)
  (op_assign MPR1 0)
  (op_assign MPR3 0)
  (op_assign IPC 0)
  (op_assign pended 0)
  (op_assign compFptr 0)
  (op_assign compRegistered 0)
  (op_assign lowerDriverReturn 0)
  (op_assign setEventCalled 0)
  (op_assign customIrp 0)
  (op_assign myStatus 0)
  (op_assign routine 0)
  (op_assign pirp 0)
  (op_assign Executive 0)
  (op_assign KernelMode 0)
  {
    {
      (op_assign pirp irp)
      _BLAST_init((exp null))
    }
    if (op_greaterEqual status 0) {
      (op_assign s NP)
      (op_assign customIrp 0)
      (op_assign setEventCalled customIrp)
      (op_assign lowerDriverReturn setEventCalled)
      (op_assign compRegistered lowerDriverReturn)
      (op_assign compFptr compRegistered)
      (op_assign pended compFptr)
      (op_assign pirp__IoStatus__Status 0)
      (op_assign myStatus 0)
      if (op_equals irp_choice 0) {
        (op_assign pirp__IoStatus__Status (op_minus 1073741637))
        (op_assign myStatus (op_minus 1073741637))
      }
      else {}
      {
        stub_driver_init((exp null))
      }
      {
        if (op_lessThan status 0) {
          return (op_bracketedPrimary (op_minus 1))
        }
        else {}
      }
      t_int tmp_ndt_1
      (op_assign tmp_ndt_1 __VERIFIER_nondet_int((exp null)))
      if (op_equals tmp_ndt_1 0) {
        goto switch_2_0
      }
      else {
        t_int tmp_ndt_2
        (op_assign tmp_ndt_2 __VERIFIER_nondet_int((exp null)))
        if (op_equals tmp_ndt_2 2) {
          goto switch_2_2
        }
        else {
          t_int tmp_ndt_3
          (op_assign tmp_ndt_3 __VERIFIER_nondet_int((exp null)))
          if (op_equals tmp_ndt_3 3) {
            goto switch_2_3
          }
          else {
            t_int tmp_ndt_4
            (op_assign tmp_ndt_4 __VERIFIER_nondet_int((exp null)))
            if (op_equals tmp_ndt_4 4) {
              goto switch_2_4
            }
            else {
              t_int tmp_ndt_5
              (op_assign tmp_ndt_5 __VERIFIER_nondet_int((exp null)))
              if (op_equals tmp_ndt_5 12) {
                goto switch_2_12
              }
              else {
                goto switch_2_default
                if 0 {
                  switch_2_0:
                  {
                    (op_assign status DiskPerfCreate((devobj,pirp)))
                  }
                  goto switch_2_break
                  switch_2_2:
                  {
                    (op_assign status DiskPerfDeviceControl((devobj,pirp)))
                  }
                  goto switch_2_break
                  switch_2_3:
                  {
                    (op_assign status DiskPerfDispatchPnp((devobj,pirp)))
                  }
                  goto switch_2_break
                  switch_2_4:
                  {
                    (op_assign status DiskPerfDispatchPower((devobj,pirp)))
                  }
                  goto switch_2_break
                  switch_2_12:
                  {
                    (op_assign status DiskPerfShutdownFlush((devobj,pirp)))
                  }
                  goto switch_2_break
                  switch_2_default:
                  {}
                  return (op_bracketedPrimary (op_minus 1))
                }
                else {
                  switch_2_break:
                  {}
                }
              }
            }
          }
        }
      }
      if we_should_unload {
        {
          DiskPerfUnload(d)
        }
      }
      else {}
    }
    else {}
    if (op_equals pended 1) {
      if (op_equals s NP) {
        (op_assign s NP)
      }
      else {
        goto _L___2
      }
    }
    else {
      _L___2:
      if (op_equals pended 1) {
        if (op_equals s MPR3) {
          (op_assign s MPR3)
        }
        else {
          goto _L___1
        }
      }
      else {
        _L___1:
        if (op_notequals s UNLOADED) {
          if (op_notequals status (op_minus 1)) {
            if (op_notequals s SKIP2) {
              if (op_notequals s IPC) {
                if (op_notequals s DC) {
                  {
                    errorFn((exp null))
                  }
                }
                else {
                  goto _L___0
                }
              }
              else {
                goto _L___0
              }
            }
            else {
              _L___0:
              if (op_equals pended 1) {
                if (op_notequals status 259) {
                  {
                    errorFn((exp null))
                  }
                }
                else {}
              }
              else {
                if (op_equals s DC) {
                  if (op_equals status 259) {
                    {
                      errorFn((exp null))
                    }
                  }
                  else {}
                }
                else {
                  if (op_notequals status lowerDriverReturn) {
                    {
                      errorFn((exp null))
                    }
                  }
                  else {}
                }
              }
            }
          }
          else {}
        }
        else {}
      }
    }
    return (op_bracketedPrimary status)
  }
}
t_int IoBuildDeviceIoControlRequest(/* TODO: param list ... */) {
  t_int malloc_ret = __VERIFIER_nondet_int((exp null))
  {
    (op_assign customIrp 1)
    t_int tmp_ndt_7
    (op_assign tmp_ndt_7 __VERIFIER_nondet_int((exp null)))
    if (op_equals tmp_ndt_7 0) {
      goto switch_3_0
    }
    else {
      goto switch_3_default
      if 0 {
        switch_3_0:
        {}
        return (op_bracketedPrimary malloc_ret)
        switch_3_default:
        {}
        return (op_bracketedPrimary 0)
      }
      else {
      }
    }
  }
}
t_void stubMoreProcessingRequired(/* TODO: param list ... */) {
  {
    if (op_equals s NP) {
      (op_assign s MPR1)
    }
    else {
      {
        errorFn((exp null))
      }
    }
    return (exp null)
  }
}
t_int IofCallDriver(/* TODO: param list ... */) {
  t_int returnVal2
  t_int compRetStatus
  t_int lcontext = __VERIFIER_nondet_int((exp null))
  t_unspecified __cil_tmp7
  {
    if compRegistered {
      if (op_equals routine 0) {
        {
          (op_assign compRetStatus DiskPerfIrpCompletion((DeviceObject,Irp,lcontext)))
        }
      }
      else {
        {
          (op_assign compRetStatus DiskPerfIoCompletion((DeviceObject,Irp,lcontext)))
        }
      }
      {
        (op_assign __cil_tmp7 (t_unspecified)compRetStatus)
        if (op_equals __cil_tmp7 (op_minus 1073741802)) {
          {
            stubMoreProcessingRequired((exp null))
          }
        }
        else {}
      }
    }
    else {}
    t_int tmp_ndt_8
    (op_assign tmp_ndt_8 __VERIFIER_nondet_int((exp null)))
    if (op_equals tmp_ndt_8 0) {
      goto switch_4_0
    }
    else {
      t_int tmp_ndt_9
      (op_assign tmp_ndt_9 __VERIFIER_nondet_int((exp null)))
      if (op_equals tmp_ndt_9 1) {
        goto switch_4_1
      }
      else {
        goto switch_4_default
        if 0 {
          switch_4_0:
          (op_assign returnVal2 0)
          goto switch_4_break
          switch_4_1:
          (op_assign returnVal2 (op_minus 1073741823))
          goto switch_4_break
          switch_4_default:
          (op_assign returnVal2 259)
          goto switch_4_break
        }
        else {
          switch_4_break:
          {}
        }
      }
    }
    if (op_equals s NP) {
      (op_assign s IPC)
      (op_assign lowerDriverReturn returnVal2)
    }
    else {
      if (op_equals s MPR1) {
        if (op_equals returnVal2 259) {
          (op_assign s MPR3)
          (op_assign lowerDriverReturn returnVal2)
        }
        else {
          (op_assign s NP)
          (op_assign lowerDriverReturn returnVal2)
        }
      }
      else {
        if (op_equals s SKIP1) {
          (op_assign s SKIP2)
          (op_assign lowerDriverReturn returnVal2)
        }
        else {
          {
            errorFn((exp null))
          }
        }
      }
    }
    return (op_bracketedPrimary returnVal2)
  }
}
t_void IofCompleteRequest(/* TODO: param list ... */) {
  {
    if (op_equals s NP) {
      (op_assign s DC)
    }
    else {
      {
        errorFn((exp null))
      }
    }
    return (exp null)
  }
}
t_int KeSetEvent(/* TODO: param list ... */) {
  t_int l = __VERIFIER_nondet_int((exp null))
  {
    (op_assign setEventCalled 1)
    return (op_bracketedPrimary l)
  }
}
t_int KeWaitForSingleObject(/* TODO: param list ... */) {
  {
    if (op_equals s MPR3) {
      if (op_equals setEventCalled 1) {
        (op_assign s NP)
        (op_assign setEventCalled 0)
      }
      else {
        goto _L
      }
    }
    else {
      _L:
      if (op_equals customIrp 1) {
        (op_assign s NP)
        (op_assign customIrp 0)
      }
      else {
        if (op_equals s MPR3) {
          {
            errorFn((exp null))
          }
        }
        else {}
      }
    }
    t_int tmp_ndt_10
    (op_assign tmp_ndt_10 __VERIFIER_nondet_int((exp null)))
    if (op_equals tmp_ndt_10 0) {
      goto switch_5_0
    }
    else {
      goto switch_5_default
      if 0 {
        switch_5_0:
        {}
        return (op_bracketedPrimary 0)
        switch_5_default:
        {}
        return (op_bracketedPrimary (op_minus 1073741823))
      }
      else {
      }
    }
  }
}
t_int PoCallDriver(/* TODO: param list ... */) {
  t_int compRetStatus
  t_int returnVal
  t_int lcontext = __VERIFIER_nondet_int((exp null))
  t_unspecified __cil_tmp7
  t_unspecified __cil_tmp8
  {
    if compRegistered {
      if (op_equals routine 0) {
        {
          (op_assign compRetStatus DiskPerfIrpCompletion((DeviceObject,Irp,lcontext)))
        }
      }
      else {
        if (op_equals routine 1) {
          {
            (op_assign compRetStatus DiskPerfIoCompletion((DeviceObject,Irp,lcontext)))
          }
        }
        else {}
      }
      {
        (op_assign __cil_tmp7 (t_unspecified)compRetStatus)
        if (op_equals __cil_tmp7 (op_minus 1073741802)) {
          {
            stubMoreProcessingRequired((exp null))
          }
        }
        else {}
      }
    }
    else {}
    t_int tmp_ndt_11
    (op_assign tmp_ndt_11 __VERIFIER_nondet_int((exp null)))
    if (op_equals tmp_ndt_11 0) {
      goto switch_6_0
    }
    else {
      t_int tmp_ndt_12
      (op_assign tmp_ndt_12 __VERIFIER_nondet_int((exp null)))
      if (op_equals tmp_ndt_12 1) {
        goto switch_6_1
      }
      else {
        goto switch_6_default
        if 0 {
          switch_6_0:
          (op_assign returnVal 0)
          goto switch_6_break
          switch_6_1:
          (op_assign returnVal (op_minus 1073741823))
          goto switch_6_break
          switch_6_default:
          (op_assign returnVal 259)
          goto switch_6_break
        }
        else {
          switch_6_break:
          {}
        }
      }
    }
    if (op_equals s NP) {
      (op_assign s IPC)
      (op_assign lowerDriverReturn returnVal)
    }
    else {
      if (op_equals s MPR1) {
        {
          (op_assign __cil_tmp8 (t_unspecified)returnVal)
          if (op_equals __cil_tmp8 259L) {
            (op_assign s MPR3)
            (op_assign lowerDriverReturn returnVal)
          }
          else {
            (op_assign s NP)
            (op_assign lowerDriverReturn returnVal)
          }
        }
      }
      else {
        if (op_equals s SKIP1) {
          (op_assign s SKIP2)
          (op_assign lowerDriverReturn returnVal)
        }
        else {
          {
            errorFn((exp null))
          }
        }
      }
    }
    return (op_bracketedPrimary returnVal)
  }
}
